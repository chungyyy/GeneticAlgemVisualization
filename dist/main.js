!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=0)}([function(t,e,n){"use strict";var r,a=n(1),i=(r=a)&&r.__esModule?r:{default:r};window.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("myCanvas").getContext("2d"),e=document.getElementById("myCanvasTwo").getContext("2d"),n=document.getElementById("myCanvasThree").getContext("2d"),r=400,a=11,o=[],s=500,l=[],c=[],h=.3,u=.9,f=1/0,d=[],v=new i.default(e,o);function y(t,e){p(t);for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];for(var i=0;i<r.length;i++){r[i].fillStyle="black",r[i].globalAlpha=.2,r[i].fillRect(0,0,e,e);for(var c=0;c<o.length;c++){r[i].beginPath();r[i].arc(o[c].x,o[c].y,3,0,2*Math.PI),r[i].fillStyle="black",r[i].fill(),r[i].closePath()}}!function(t,e,n){for(var r=0;r<e;r++){var a=b(n);t.push(a)}}(l,s,o)}function p(t){for(var e=0;e<t;e++){var n=Math.random(e)*r,a=Math.random(e)*r;o[e]={x:n,y:a}}}function m(){t.clearRect(0,0,r,r),t.fillStyle="black",t.globalAlpha=.2,t.fillRect(0,0,r,r);for(var e=0;e<a;e++){t.beginPath();var n=o[e].x,i=o[e].y;t.arc(n,i,3,0,2*Math.PI),t.fillStyle="black",t.fill(),t.closePath()}o=b(o),function(t){for(var e=0;e<t.length;e++){var n=g(t[e]);c[e]=1/n}for(var r=0,a=0;a<c.length;a++)r+=c[a];for(var i=0;i<c.length;i++)c[i]=c[i]/r}(l),function(e){for(var n=0;n<e.length;n++){var r=g(e[n]);f>r&&(f=r,d=e[n].slice(),document.getElementById("ga-distance").innerHTML="Shortest pixel distance so far: "+Math.floor(f))}t.beginPath();for(var a=0;a<d.length-1;a++)t.moveTo(d[a].x,d[a].y),t.lineTo(d[a+1].x,d[a+1].y),t.closePath();t.strokeStyle="#111e6c",t.stroke()}(l),function(){for(var t=[],e=0;e<l.length;e++){var n=x(),r=x(),a=M(w(n,r,u),h);t[e]=a}l=t}()}function b(t){for(var e=t.length,n=t.slice();e;){var r=Math.floor(Math.random()*e--),a=[n[r],n[e]];n[e]=a[0],n[r]=a[1]}return n}function g(t){for(var e=0,n=0;n<t.length-1;n++){var r=t[n].x-t[n+1].x,a=t[n].y-t[n+1].y;e+=Math.hypot(r,a)}return e}function x(){for(var t=0,e=Math.random();e>0;)(e-=c[t])>0&&(t+=1);return l[t]}function M(t,e){return Math.random()<=e?b(t):t}function w(t,e,n){if(Math.random()<=n){for(var r=Math.floor(t.length)+1,a=Math.floor(Math.random()*r),i=t.slice(a,r),o=0;o<e.length;o++)i.includes(e[o])||i.push(e[o]);return i}return t}function P(){clearInterval(window.GA),window.GA=null,clearInterval(window.SAnn),window.SAnn=null}y(a,r,t,e,n),document.getElementById("play").addEventListener("click",function(){window.GA||(window.GA=setInterval(m,10)),window.SAnn||(window.SAnn=setInterval(v.saSolve.bind(this),10))}),document.getElementById("pause").addEventListener("click",P),document.getElementById("reset").addEventListener("click",function(){P(),o=[],f=1/0,d=[],l=[],t.clearRect(0,0,r,r),v.defaultSettings(),n.clearRect(0,0,r,r),y(a,r,t,e,n),v=new i.default(e,o),document.getElementById("ga-distance").innerHTML="Shortest pixel distance so far: 0",document.getElementById("sa-distance").innerHTML="Shortest pixel distance so far: 0",document.getElementById("brute-distance").innerHTML="Shortest pixel distance so far: 0"})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.cities=n,this.shortestDistance=1/0,this.bestPoints=[],this.startTemperature=.1,this.stopTemperature=1e-4,this.dropTemperatureProbability=.9999,this.saSolve=this.saSolve.bind(this),this.calculateTotalDistance=this.calculateTotalDistance.bind(this),this.swap=this.swap.bind(this),this.saDraw=this.saDraw.bind(this)}return r(t,[{key:"defaultSettings",value:function(){this.ctx.clearRect(0,0,400,400),this.shortestDistance=1/0,this.bestPoints=[],this.startTemperature=100,this.stopTemperature=.1,this.dropTemperatureProbability=.99999}},{key:"calculateTotalDistance",value:function(t){for(var e=0,n=0;n<t.length-1;n++){var r=t[n].x-t[n+1].x,a=t[n].y-t[n+1].y;e+=Math.hypot(r,a)}return e}},{key:"swap",value:function(){var t=this.cities.slice(),e=t.length,n=Math.floor(Math.random()*e),r=Math.floor(Math.random()*e),a=[t[r],t[n]];return t[n]=a[0],t[r]=a[1],t}},{key:"saDraw",value:function(){this.ctx.clearRect(0,0,400,400),this.ctx.fillStyle="black",this.ctx.globalAlpha=.2,this.ctx.fillRect(0,0,400,400);for(var t=0;t<this.cities.length;t++){this.ctx.beginPath();var e=this.cities[t].x,n=this.cities[t].y;this.ctx.arc(e,n,3,0,2*Math.PI),this.ctx.fillStyle="black",this.ctx.fill(),this.ctx.closePath()}this.ctx.beginPath();for(var r=0;r<this.bestPoints.length-1;r++)this.ctx.moveTo(this.bestPoints[r].x,this.bestPoints[r].y),this.ctx.lineTo(this.bestPoints[r+1].x,this.bestPoints[r+1].y),this.ctx.closePath();this.ctx.strokeStyle="#111e6c",this.ctx.stroke()}},{key:"saSolve",value:function(){if(this.startTemperature>this.stopTemperature){var t=this.swap(),e=this.calculateTotalDistance(this.cities),n=this.calculateTotalDistance(t),r=n-e;(r<0||Math.random()<=Math.exp((0-r)/this.startTemperature))&&(this.cities=t,this.bestPoints=t,this.shortestDistance=n,document.getElementById("sa-distance").innerHTML="Shortest pixel distance so far: "+Math.floor(this.shortestDistance))}this.startTemperature*=this.dropTemperatureProbability,console.log("temperature is "+this.startTemperature),this.saDraw()}}]),t}();e.default=a}]);
//# sourceMappingURL=main.js.map