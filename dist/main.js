!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=0)}([function(t,e,i){"use strict";var n=s(i(1)),r=s(i(2));function s(t){return t&&t.__esModule?t:{default:t}}window.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("myCanvas").getContext("2d"),e=document.getElementById("myCanvasTwo").getContext("2d"),i=document.getElementById("myCanvasThree").getContext("2d"),s=400,a=8,o=[],l=500,c=[],h=[],u=.05,d=.3,f=0,v=1/0,y=[],m=document.getElementById("cities-setter"),x=document.getElementById("city-num");m.addEventListener("change",function(){a=m.value,x.innerHTML="Number of Cities: "+a,D()}),p(a,s,t,e,i);var g=new n.default(e,o),b=new r.default(i,o);function p(t,e){T(t);for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];for(var s=0;s<n.length;s++){n[s].fillStyle="black",n[s].globalAlpha=.2,n[s].fillRect(0,0,e,e);for(var a=0;a<o.length;a++){n[s].beginPath();n[s].arc(o[a].x,o[a].y,3,0,2*Math.PI),n[s].fillStyle="black",n[s].fill(),n[s].closePath()}}!function(t,e,i){for(var n=0;n<e;n++){var r=P(i);t.push(r)}}(c,l,o)}function T(t){for(var e=0;e<t;e++){var i=Math.random(e)*s,n=Math.random(e)*s;o[e]={x:i,y:n}}}function M(){t.clearRect(0,0,s,s),t.fillStyle="black",t.globalAlpha=.2,t.fillRect(0,0,s,s);for(var e=0;e<a;e++){t.beginPath();var i=o[e].x,n=o[e].y;t.arc(i,n,3,0,2*Math.PI),t.fillStyle="black",t.fill(),t.closePath()}o=P(o),function(t){for(var e=0;e<t.length;e++){var i=w(t[e]);h[e]=1/i}for(var n=0,r=0;r<h.length;r++)n+=h[r];for(var s=0;s<h.length;s++)h[s]=h[s]/n}(c),function(e){for(var i=0;i<e.length;i++){var n=w(e[i]);v>n&&(v=n,y=e[i].slice(),document.getElementById("ga-distance").innerHTML="Shortest pixel distance so far: "+Math.floor(v))}t.beginPath();for(var r=0;r<y.length-1;r++)t.moveTo(y[r].x,y[r].y),t.lineTo(y[r+1].x,y[r+1].y),t.closePath();t.strokeStyle="#111e6c",t.stroke()}(c),function(){for(var t=[],e=0;e<c.length;e++){var i=S(),n=S(),r=k(I(i,n,d),u);t[e]=r}c=t}(),f+=1,document.getElementById("ga-generation").innerHTML="Generations: "+f}function P(t){for(var e=t.length,i=t.slice();e;){var n=Math.floor(Math.random()*e--),r=[i[n],i[e]];i[e]=r[0],i[n]=r[1]}return i}function w(t){for(var e=0,i=0;i<t.length-1;i++){var n=t[i].x-t[i+1].x,r=t[i].y-t[i+1].y;e+=Math.hypot(n,r)}return e}function S(){for(var t=0,e=Math.random();e>0;)(e-=h[t])>0&&(t+=1);return c[t]}function k(t,e){return Math.random()<=e?P(t):t}function I(t,e,i){if(Math.random()<=i){for(var n=Math.floor(t.length)+1,r=Math.floor(Math.random()*n),s=t.slice(r,n),a=0;a<e.length;a++)s.includes(e[a])||s.push(e[a]);return s}return t}function E(){clearInterval(window.GA),window.GA=null,clearInterval(window.SAnn),window.SAnn=null,clearInterval(window.LOnn),window.LOnn=null}function D(){E(),o=[],v=1/0,y=[],c=[],f=0,t.clearRect(0,0,s,s),g.defaultSettings(),i.clearRect(0,0,s,s),p(a,s,t,e,i),g=new n.default(e,o),b=new r.default(i,o),document.getElementById("ga-generation").innerHTML="Generations: 0",document.getElementById("sa-temp").innerHTML="Temperature: 0",document.getElementById("ga-distance").innerHTML="Shortest pixel distance so far: 0",document.getElementById("sa-distance").innerHTML="Shortest pixel distance so far: 0",document.getElementById("brute-distance").innerHTML="Shortest pixel distance so far: 0",document.getElementById("percentComplete").innerHTML="Percent Complete: 0.00%"}document.getElementById("play").addEventListener("click",function(){window.GA||(window.GA=setInterval(M,0)),window.SAnn||(window.SAnn=setInterval(g.saSolve.bind(this),0)),window.LOnn||(window.LOnn=setInterval(b.loSolve.bind(this),0))}),document.getElementById("pause").addEventListener("click",E),document.getElementById("reset").addEventListener("click",D)})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.cities=i,this.shortestDistance=1/0,this.bestPoints=[],this.startTemperature=100,this.stopTemperature=.001,this.dropTemperatureProbability=.998,this.saSolve=this.saSolve.bind(this),this.calculateTotalDistance=this.calculateTotalDistance.bind(this),this.swap=this.swap.bind(this),this.saDraw=this.saDraw.bind(this)}return n(t,[{key:"defaultSettings",value:function(){this.ctx.clearRect(0,0,400,400),this.shortestDistance=1/0,this.bestPoints=[],this.startTemperature=100,this.stopTemperature=.001,this.dropTemperatureProbability=.998}},{key:"calculateTotalDistance",value:function(t){for(var e=0,i=0;i<t.length-1;i++){var n=t[i].x-t[i+1].x,r=t[i].y-t[i+1].y;e+=Math.hypot(n,r)}return e}},{key:"swap",value:function(){var t=this.cities.slice(),e=t.length,i=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e),r=[t[n],t[i]];return t[i]=r[0],t[n]=r[1],t}},{key:"saDraw",value:function(){this.ctx.clearRect(0,0,400,400),this.ctx.fillStyle="black",this.ctx.globalAlpha=.2,this.ctx.fillRect(0,0,400,400);for(var t=0;t<this.cities.length;t++){this.ctx.beginPath();var e=this.cities[t].x,i=this.cities[t].y;this.ctx.arc(e,i,3,0,2*Math.PI),this.ctx.fillStyle="black",this.ctx.fill(),this.ctx.closePath()}this.ctx.beginPath();for(var n=0;n<this.bestPoints.length-1;n++)this.ctx.moveTo(this.bestPoints[n].x,this.bestPoints[n].y),this.ctx.lineTo(this.bestPoints[n+1].x,this.bestPoints[n+1].y),this.ctx.closePath();this.ctx.strokeStyle="#111e6c",this.ctx.stroke()}},{key:"saSolve",value:function(){if(this.startTemperature>this.stopTemperature){var t=this.swap(),e=this.calculateTotalDistance(this.cities),i=this.calculateTotalDistance(t),n=i-e;(n<0||Math.random()<=Math.exp((0-n)/this.startTemperature))&&(this.cities=t,this.shortestDistance>=i&&(this.shortestDistance=i,this.bestPoints=t),document.getElementById("sa-temp").innerHTML="Temperature: "+Math.floor(this.startTemperature),document.getElementById("sa-distance").innerHTML="Shortest pixel distance so far: "+Math.floor(this.shortestDistance))}this.startTemperature*=this.dropTemperatureProbability,this.saDraw()}}]),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.cities=i,this.fixedCities=i,this.order=this.orderFunc(i),this.shortestDistance=this.calculateTotalDistance(i),this.bestPoints=i,this.iterationNum=0,this.nextOrder=this.nextOrder.bind(this),this.calculateTotalDistance=this.calculateTotalDistance.bind(this),this.orderFunc=this.orderFunc.bind(this),this.loSolve=this.loSolve.bind(this)}return n(t,[{key:"orderFunc",value:function(t){for(var e=[],i=0;i<t.length;i++)e[i]=i;return e}},{key:"calculateTotalDistance",value:function(t){for(var e=0,i=0;i<t.length-1;i++){var n=t[i].x-t[i+1].x,r=t[i].y-t[i+1].y;e+=Math.hypot(n,r)}return e}},{key:"loSolve",value:function(){this.ctx.clearRect(0,0,400,400),this.ctx.fillStyle="black",this.ctx.globalAlpha=.2,this.ctx.fillRect(0,0,400,400);for(var t=0;t<this.cities.length;t++){this.ctx.beginPath();var e=this.cities[this.order[t]].x,i=this.cities[this.order[t]].y;this.ctx.arc(e,i,3,0,2*Math.PI),this.ctx.fillStyle="black",this.ctx.fill(),this.ctx.closePath()}this.ctx.beginPath();for(var n=0;n<this.order.length-1;n++)this.ctx.moveTo(this.fixedCities[this.order[n]].x,this.fixedCities[this.order[n]].y),this.ctx.lineTo(this.fixedCities[this.order[n+1]].x,this.fixedCities[this.order[n+1]].y),this.ctx.closePath();this.ctx.strokeStyle="#111e6c",this.ctx.stroke(),this.ctx.beginPath();for(var r=0;r<this.bestPoints.length-1;r++)this.ctx.moveTo(this.bestPoints[r].x,this.bestPoints[r].y),this.ctx.lineTo(this.bestPoints[r+1].x,this.bestPoints[r+1].y),this.ctx.closePath();this.ctx.strokeStyle="red",this.ctx.stroke(),Math.floor(this.iterationNum/this.factorial(this.cities.length)*100)<100&&(this.iterationNum+=1);var s=this.calculateTotalDistance(this.cities);this.shortestDistance>=s&&(this.shortestDistance=s,this.bestPoints=this.cities),document.getElementById("percentComplete").innerHTML="Percent Complete: "+Number(this.iterationNum/this.factorial(this.cities.length)*100).toFixed(2)+"%",document.getElementById("brute-distance").innerHTML="Shortest pixel distance so far: "+Math.floor(this.shortestDistance),this.nextOrder(),console.log(this.order)}},{key:"nextOrder",value:function(){for(var t=this.order,e=1/0,i=this.cities.slice(),n=0;n<t.length-1;n++)t[n]<t[n+1]&&(e=n);for(var r=1/0,s=0;s<t.length;s++)t[e]<t[s]&&(r=s);var a=[t[r],t[e]];t[e]=a[0],t[r]=a[1];var o=[i[t[r]],i[t[e]]];i[t[e]]=o[0],i[t[r]]=o[1];var l=t.splice(e+1);t=t.concat(l.reverse()),this.order=t,this.cities=i}},{key:"factorial",value:function(t){for(var e=1,i=1;i<=t;i++)e*=i;return e}}]),t}();e.default=r}]);
//# sourceMappingURL=main.js.map